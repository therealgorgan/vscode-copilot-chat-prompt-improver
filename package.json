{
  "name": "prompt-improver",
  "displayName": "Prompt Improver",
  "description": "Improve your Copilot Chat prompts using AI and workspace context",
  "version": "0.0.4",
  "publisher": "TheRealGorgan",
  "author": {
    "name": "The Real Gorgan",
    "email": "therealgorgan@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/TheRealGorgan/vscode-chat-improve-prompt"
  },
  "icon": "icon.png",
  "license": "MIT",
  "engines": {
    "vscode": "^1.105.0"
  },
  "categories": [
    "AI",
    "Chat"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "contributes": {
    "chatParticipants": [
      {
        "id": "prompt-improver.prompt-improver",
        "name": "prompt-improver",
        "fullName": "Prompt Improver",
        "description": "Improve your chat prompts with AI and workspace context",
        "isSticky": false,
        "commands": [
          {
            "name": "improve",
            "description": "Analyze and improve a chat prompt"
          },
          {
            "name": "analyze",
            "description": "Analyze what makes a prompt effective"
          }
        ],
        "disambiguation": [
          {
            "category": "prompt_improvement",
            "description": "The user wants to improve their chat prompt to get better AI responses",
            "examples": [
              "Make my prompt better",
              "How can I improve this prompt?",
              "Help me write a better prompt",
              "Improve my question"
            ]
          }
        ]
      }
    ],
    "configuration": {
      "title": "Prompt Improver",
      "properties": {
        "promptImprover.modelVendor": {
          "type": "string",
          "default": "copilot",
          "enum": [
            "copilot",
            "auto"
          ],
          "enumDescriptions": [
            "Use GitHub Copilot models",
            "Use any available model provider"
          ],
          "description": "Select which language model vendor to use for prompt improvement"
        },
        "promptImprover.modelFamily": {
          "type": "string",
          "default": "gpt-4o",
          "description": "Model family to use (e.g., 'gpt-4o', 'gpt-4o-mini', 'gpt-4'). Leave empty to use the default model."
        },
        "promptImprover.systemPromptPreset": {
          "type": "string",
          "default": "context-aware",
          "enum": [
            "general",
            "context-aware",
            "concise",
            "custom"
          ],
          "enumDescriptions": [
            "General improvement - Balanced approach for any coding prompt",
            "Context-aware - Leverages workspace context (languages, frameworks, open files)",
            "Concise - Quick improvements with minimal overhead",
            "Custom - Use your own system prompt (edit promptImprover.customSystemPrompt)"
          ],
          "description": "Choose a preset system prompt or use 'custom' to define your own"
        },
        "promptImprover.customSystemPrompt": {
          "type": "string",
          "default": "",
          "editPresentation": "multilineText",
          "markdownDescription": "Your custom system prompt (used when preset is set to 'custom').\n\n**Available placeholders:**\n- `{userPrompt}` - The user's original prompt\n- `{languages}` - Detected programming languages\n- `{technologies}` - Detected frameworks/technologies\n- `{openFiles}` - Currently open files"
        },
        "promptImprover.systemPrompt": {
          "type": "string",
          "default": "You are an expert at crafting effective prompts for AI coding assistants like GitHub Copilot, Cursor, and similar tools.\n\nYour task is to analyze and enhance prompts to maximize their effectiveness in generating high-quality AI responses for coding tasks.\n\n**Analysis Phase:**\n1. Evaluate the original prompt for:\n   - Clarity: Is the intent immediately understandable?\n   - Specificity: Are requirements concrete and measurable?\n   - Completeness: Is all necessary context provided?\n   - Ambiguity: Are there multiple interpretations possible?\n   - Technical accuracy: Are technical terms used correctly?\n\n**Enhancement Phase:**\n2. Improve the prompt by applying these techniques:\n   - **Increase specificity**: Replace vague terms with concrete requirements (e.g., \"handle errors\" → \"implement try-catch blocks with specific error types and user-friendly messages\")\n   - **Add contextual information**: Include relevant details about the codebase, language version, frameworks, coding standards, or architectural patterns when applicable\n   - **Define constraints explicitly**: Specify what should NOT be done, performance requirements, compatibility needs, or style guidelines\n   - **Structure for clarity**: Use formatting (bullet points, numbered lists, sections) to organize complex requirements\n   - **Specify output expectations**: Clearly state what format, level of detail, or type of response is expected\n   - **Include examples when helpful**: Add input/output examples or code snippets to illustrate requirements\n   - **Remove redundancy**: Eliminate repetitive or unnecessary information\n\n**Output Requirements:**\n3. Return ONLY the improved prompt text itself\n   - Do NOT include meta-commentary like \"Here is the improved prompt:\" or \"Enhanced version:\"\n   - Do NOT wrap the output in quotes, code blocks, or XML tags\n   - Do NOT add explanations of what you changed or why\n   - The output should be ready to use directly as a prompt\n\n**Quality Criteria for Coding Prompts:**\nConsider these factors when enhancing:\n- **Technical precision**: Use correct terminology for languages, frameworks, and patterns\n- **Clear requirements**: State functional and non-functional requirements explicitly\n- **Appropriate scope**: Ensure the task is neither too broad nor too narrow\n- **Actionable constraints**: Include relevant limitations (browser compatibility, dependencies, performance targets)\n- **Expected output format**: Specify if you need code only, code with comments, explanations, tests, etc.\n- **Context awareness**: Reference existing code patterns, file structures, or conventions when relevant\n- **Error handling**: Mention how errors or edge cases should be addressed\n- **Testing considerations**: Include whether tests are needed or how validation should occur",
          "editPresentation": "multilineText",
          "markdownDescription": "⚠️ **DEPRECATED**: Use `promptImprover.systemPromptPreset` and `promptImprover.customSystemPrompt` instead. This setting is kept for backward compatibility.",
          "deprecationMessage": "Use promptImprover.systemPromptPreset and promptImprover.customSystemPrompt instead"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "npm run check-types && npm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",
    "watch:esbuild": "node esbuild.js --watch",
    "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
    "package": "npm run check-types && npm run lint && node esbuild.js --production",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "check-types": "tsc --noEmit",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/vscode": "^1.105.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "22.x",
    "@typescript-eslint/eslint-plugin": "^8.45.0",
    "@typescript-eslint/parser": "^8.45.0",
    "eslint": "^9.36.0",
    "esbuild": "^0.25.10",
    "npm-run-all": "^4.1.5",
    "typescript": "^5.9.3",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2"
  }
}
